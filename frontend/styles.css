@import 'tailwindcss';

/* Import ui-kit base styles (includes .label utility, brand colors, fonts) */
@import '../ui-kit/src/styles/base.css';

/* Import ui-kit app shell layout styles */
@import '../ui-kit/src/styles/app-shell.css';

/* Include ui-kit components in Tailwind content scanning */
@source "../ui-kit/src/**/*.ts";

/* Define custom theme values */
@theme {
  --color-brand-black: #0d0d0d;
  --color-brand-green: #266a49;
  --color-brand-green-hover: #1e5539;
  --color-brand-grey: #f8f8f8;
  --color-brand-purple: #4539cc;
  --color-brand-light-purple: #bf91fb;
  --font-mono: 'Monument Grotesk Mono', ui-monospace, monospace;
  --container-8xl: 90rem;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer utilities {
  /* Font Face Declarations */
  @font-face {
    font-family: 'Monument Grotesk';
    src:
      url('/fonts/ABCMonumentGrotesk-Medium.woff2') format('woff2'),
      url('/fonts/ABCMonumentGrotesk-Medium.woff') format('woff');
    font-display: swap;
  }

  @font-face {
    font-family: 'Monument Grotesk Mono';
    src:
      url('/fonts/ABCMonumentGroteskMono-Light.woff2') format('woff2'),
      url('/fonts/ABCMonumentGroteskMono-Light.woff') format('woff');
    font-weight: 300;
    font-display: swap;
  }

  @font-face {
    font-family: 'Monument Grotesk Mono';
    src:
      url('/fonts/ABCMonumentGroteskMono-Medium.woff2') format('woff2'),
      url('/fonts/ABCMonumentGroteskMono-Medium.woff') format('woff');
    font-weight: 500;
    font-display: swap;
  }
}

@layer base {
  body {
    font-family: 'Monument Grotesk', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Neutralise letter spacing for headings */
  h1, h2, h3, h4, h5, h6 {
    letter-spacing: 0;
  }

  /* H1-4 always sentence case */
  h1, h2, h3, h4 {
    text-transform: none;
  }

  /* H1 never bold */
  h1 {
    font-weight: normal !important;
  }

  /* Labels: font mono, medium, uppercase, text dark, smaller size */
  /* Exclude login section which uses ui-kit styling */
  label:not(#login-section label) {
    font-family: 'Monument Grotesk Mono', monospace !important;
    font-weight: 500 !important;
    font-size: 0.75rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    color: #0D0D0D !important;
  }

  /* Hide login form when user is logged in */
  body.logged-in #login-section {
    display: none !important;
  }
}

/* Table headers: Monument Grotesk Mono, uppercase, white text, black bg */
th {
  font-family: 'Monument Grotesk Mono', monospace !important;
  font-weight: 500 !important;
  font-size: 0.75rem !important;
  text-transform: uppercase !important;
  color: white !important;
  background-color: #0D0D0D !important;
}

/* Tables: rounded corners, black border bottom */
table {
  border-bottom: 2px solid #0D0D0D !important;
  border-radius: 0.5rem !important;
  overflow: hidden;
}

/* TopBar: fixed on both mobile and desktop */
.app-top-bar {
  display: flex !important;
  position: fixed !important;
  top: 3.5rem !important;
  left: 1rem !important;
  right: 1rem !important;
  width: auto !important;
  margin: 0 !important;
  background-color: white !important;
  border-radius: 0.5rem 0.5rem 0 0 !important;
  z-index: 30 !important;
}

@media (min-width: 64rem) {
  .app-top-bar {
    top: 1rem !important;
    left: 16rem !important;
    right: 1rem !important;
  }
}

/* Content wrapper needs top margin to account for fixed topbar */
.app-content-wrapper {
  margin-top: 3.5rem !important;
}

@media (min-width: 64rem) {
  .app-content-wrapper {
    margin-top: 4.5rem !important;
    margin-left: 0 !important;
  }
}

/* Scrolled state: add glass effect and shadow */
.app-top-bar.is-scrolled {
  background-color: rgba(255, 255, 255, 0.8) !important;
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
}

/* Sheet/Drawer overlay and panel */
.sheet-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 50;
}

.sheet-panel {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  max-width: 40rem;
  background-color: white;
  box-shadow: -10px 0 40px rgba(0, 0, 0, 0.15);
  z-index: 51;
  overflow-y: auto;
}

@media (max-width: 768px) {
  .sheet-panel {
    top: auto;
    right: 0;
    bottom: 0;
    left: 0;
    max-width: 100%;
    max-height: 90vh;
    border-radius: 1rem 1rem 0 0;
  }
}
